<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>index</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
  </head>
  <body>
    <div id="app">
      <div class="container">
        <div class="d-flex justify-content-center align-items-center" style="height: 100vh;">
          <form action="" @submit.prevent="" class="w-50">
            <div>
              <label class="form-label" for="username">Username</label>
              <input class="form-control" type="text" id="username" v-model="username">
              <label for="username" class="text-danger fw-bold" v-if = "usernameError">minimal username 8 karakter</label>
            </div>
            <div>
              <label class="form-label" for="password">Password</label>
              <input class="form-control" type="password" id="password" v-model="password">
              <label for="password" class="text-danger fw-bold" v-if = "passwordError">minimal password 8 karakter</label>
            </div>
            <div>
              <label class="form-label" for="passwordRetype">Retype Password</label>
              <input class="form-control" type="password" id="passwordRetype" v-model="passwordRetype">
              <label for="passwordRetype" class="text-danger fw-bold" v-if = "passwordRetypeError">password retype tidak sama dengan password</label>
            </div>
            <div class="mt-3">
              <input class="form-control btn btn-primary" type="submit" value="Register">
            </div>
          </form>
        </div>
      </div>
    </div>
    <script type="module">
      import { createApp } from "https://unpkg.com/vue@3/dist/vue.esm-browser.js";
      createApp({
        data() {
          return {
            username:"",
            password:"",
            passwordRetype:"",
            usernameError: false,
            passwordError: false,
            passwordRetypeError: false
          };
        },
        watch:{
          username(value){
            //sedikit dimodifikasi harusnya value.length < 8 cuma mau menghilangkan perigatan label jika karakter dikosongkan
            if (value.length > 0 && value.length < 8) {
              this.usernameError = true
            }
            else{
              this.usernameError = false
            }
          },
          password(value){
            if (value.length > 0 && value.length < 8) {
              this.passwordError = true
            }
            else{
              this.passwordError = false
            }
          },
          passwordRetype(value){
            if(value != this.password){
              this.passwordRetypeError = true
            }else{
              this.passwordRetypeError = false
            }
          }
        }
      }).mount("#app");
    </script>
  </body>
</html>
